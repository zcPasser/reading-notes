[TOC]

# 题目描述

给定两个字符串 s 和 t ，判断它们是否是同构的。

如果 s 中的字符可以按某种映射关系替换得到 t ，那么这两个字符串是同构的。

每个出现的字符都应当映射到另一个字符，同时不改变字符的顺序。不同字符不能映射到同一个字符上，相同字符只能映射到同一个字符上，字符可以映射到自己本身。

# 知识点补充

## 数学映射

- 单射

​		**(one-to-one function) 一对一函数，x不同则y不同～**

​		***即：没有一个x对应两个y，也没有一个y有对应两个x～***

- 满射

​		**对任意b，存在a满足f(a) = b～**

​		***即：值域y是满的，每个y都有x对应，不存在某个y没有x对应的情况～***

- 双射

​		***既是满射，也是单射～***

​		***即：每个y都有x对应，而且都是一一对应～***

# 思路

这道题的规则是串s 和 串t 之间 形成 `双射`关系，即 对于串s中每个字符，串t中对应位置都有其映射；而对于串t而已，亦是如此。

最初本想着用`dict`结构解决，存储映射关系，但其只能满足一次单射，会出现x1、x2对应同样的y，不满足`双射`原则。为此牺牲空间，使用了2个`dict`结构，处理流程如下：

- 遍历串s和t，每次设置s当前字符为x、t当前字符为y。
- 若当前的x和y没有该映射关系，就立刻在两个字典中更新该条映射关系，继续遍历，否则转下。
- 若当前状态任一字典中已存在相关映射关系，但映射结果与x或y不一致，则返回`false`，程序结束。
- 当遍历结束，则程序返回`true`。

# 解决

```python

    # 双射：每个y都有x对应，而且都是一一对应。
    def isIsomorphic(self, s: str, t: str) -> bool:
        # 先判断 长度 是否合法。
        s_len = len(s)
        if s_len != len(t):
            return False
        x_dict = {}
        y_dict = {}

        for i in range(s_len):
            x, y = s[i], t[i]
            x_y, y_x = x_dict.get(x, '-1'), y_dict.get(y, '-1')
            # 未建立 x<->y 映射关系，添加映射关系。
            if x_y == '-1' and y_x == '-1':
                x_dict[x] = y
                y_dict[y] = x
            # 映射关系 未遵守 双射 原则。
            elif x_y != y or y_x != x:
                return False

        return True
```

# 结果

![image-20220607145746691](C:\Users\14869\AppData\Roaming\Typora\typora-user-images\image-20220607145746691.png)