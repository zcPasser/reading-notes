# 第2章：python基础-运算符、表达式、内置对象

## 2.1：常用内置对象

python中 **一切皆对象**。

| 对象类型     | 类型名称          | 示例                                                         | 说明                                                         |
| ------------ | :---------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 数字         | int,float,complex |                                                              | 数字大小无限制，仅受内存限制；支持复数。                     |
| 字符串       | str               |                                                              | 单引号、双引号、三引号可以作为定界符，<br />以字母 **r**或**R**引导的表示 原始字符串。 |
| 字节串       | bytes             | b'hello'                                                     | 以字母 **b**引导，可以使用单引号、双引号、三引号作为定界符。 |
| 列表         | list              |                                                              | 其元素可以为任意类型。                                       |
| 字典         | dict              |                                                              | 元素形式为 键值对。                                          |
| 元组         | tuple             |                                                              | 元素只有1个时，其后面的 逗号 无法省略。                      |
| 集合         | set,forzenset     | {1, 2}                                                       | 元素不重复。<br/>set可变，forzenset 不可变。                 |
| 布尔         | bool              |                                                              |                                                              |
| 空类型       | **NoneType**      | None                                                         | 空值。                                                       |
| 异常         |                   |                                                              |                                                              |
| 文件         |                   | f = open(...)                                                | open内置函数，返回文件对象。                                 |
| 其他迭代对象 |                   | 生成器对象、<br/>range对象、<br/>zip对象、<br>enumerate对象、<br>map对象、<br>filter对象。 | 具有惰性求值特点。                                           |
| 编程单元     |                   | 函数、<br>类、<br>模块。                                     |                                                              |

### 2.1.1：常量与变量

- x = 'hello'

上述中，创建字符串变量 x，并赋值为'hello'字面量。

- python中变量 不直接存储值，而是存储了值的内存地址 或者 引用。

是变量类型可以随时改变的原因。

- python是强类型编程语言。
- python中变量名命名规则。

### 2.1.2：数字

- 类型
  - 内置数字类型：整数、实数、复数。
  - 借助**标准库fractions**中**Fraction对象**实现**分数**及其运算。
  - 借助**标准库fractions**中**Decimal对象**实现**更高精度运算**。
- 内置整数、实数、复数
  - 避免实数之间直接相等性测试，应该以**两者差绝对值足够小作为2个实数是否相等的依据**。、
  - 复数，如abs可以计算模。
- 分数
  - 借助**标准库fractions**中**Fraction对象**实现**分数**及其运算。
  - 最大公约数 gcd函数。
- 高精度实数
  - 借助**标准库fractions和decimal**中**Decimal对象**实现**更高精度运算**。

### 2.1.3：字符串与字节串

- 字符串定界符

单引号、双引号、三单引号、三双引号，且可以相互嵌套。

- 字节串
  - 在字符串的定界符前，加上字母b。
- encode、decode
  - 对str类型的字符串 调用其 encode方法进行编码，得到bytes字节串。
  - 对bytes字节串调用 其decode方法并指定正确 编码格式，得到str字符串。
- 一个下划线：最后一次正确输出结果。

### 2.1.4：列表、元组、字典、集合

- 可变

  - 某种数据类型 的 对应变量值 改变，而 内存地址 不改变。

- | 比较项             | 列表                     | 元组   | 字典   | 集合   |
  | ------------------ | ------------------------ | ------ | ------ | ------ |
  | 定界符             | []                       | ()     | {}     | {}     |
  | 是否可变           | 是                       | 否     | 是     | 是     |
  | 是否有序           | 是                       | 是     | 否     | 否     |
  | 元素查找速度       | 非常慢                   | 很慢   | 非常快 | 非常快 |
  | 新增和删除元素速度 | 尾部操作快，其他位置慢。 | 不允许 | 快     | 快     |
  |                    |                          |        |        |        |

## 2.2：运算符、表达式

- 运算符优先级规则
  - 算术运算符 最高。
- 运算符说明

| 运算符 | 说明                                                       |
| ------ | ---------------------------------------------------------- |
| +      | 列表、元组、字符串合并与连接。                             |
| -      | 集合差集；相反数。                                         |
| *      | 序列重复。                                                 |
| //     | 整除，mod，有实数，则结果为实数形式的整数。                |
| %      | 余数；字符串格式化。                                       |
| **     | 幂运算，等价于内置函数pow。                                |
| in     | 成员测试。                                                 |
| is     | 对象同一性测试，即测试是否为同一个对象或内存地址是否相同。 |
| @      | 矩阵相乘运算符。                                           |

- +
  - 支持一些同类型对象的连接。
  - python内部将 true 当作 1 处理，而 false 当作 0 处理。
- *
  - 序列重复，如元组、列表。
- is
  - 若2个对象是同一个，两者具有相同的内存地址。
  - 基于值的内存管理，同一个值在内存中只有一份。
- 位运算符
  - 只能用于整数。
  - 执行过程：先转为**2进制数**，后**右对齐**，必要时**左侧补0**，按位运算，最后转为**10进制数返回**。
    - 左移1位，等价于乘以2；右移一位，等价于整除2。
- 逻辑运算符
  - and、or具有 惰性求值 或 逻辑短路 的 特点。